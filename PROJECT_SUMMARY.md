# –ü—Ä–æ–µ–∫—Ç –ê–ª–∫–æ—Ç–µ–∫–∞ –ü–∞—Ä—Å–µ—Ä - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: ‚úÖ –ó–ê–í–ï–†–®–Å–ù

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Scrapy –ø–∞—Ä—Å–µ—Ä –¥–ª—è https://alkoteka.com —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

## üìã –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã (–≠—Ç–∞–ø 10-14)

### ‚úÖ –≠—Ç–∞–ø 10: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–∑ 3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
  - –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –æ–±—ä–µ–º–∞ (500–º–ª, 1–ª –∏ —Ç.–¥.)
  - –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è —Ü–≤–µ—Ç–∞
  - JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ HTML (data-–∞—Ç—Ä–∏–±—É—Ç—ã)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (—Ä–∞–∑–º–µ—Ä—ã –æ–¥–µ–∂–¥—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- **15 –Ω–æ–≤—ã—Ö unit —Ç–µ—Å—Ç–æ–≤** –≤ `test_spider.py` (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úì)

### ‚úÖ –≠—Ç–∞–ø 11: Pipeline –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∏
- **ValidationPipeline** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 300) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- **DefaultValuesPipeline** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 400) - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **DataCleaningPipeline** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 500) - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞
- **29 –Ω–æ–≤—ã—Ö unit —Ç–µ—Å—Ç–æ–≤** –¥–ª—è –≤—Å–µ—Ö pipelines (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úì)

### ‚úÖ –≠—Ç–∞–ø 12: –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases –∏ –æ—à–∏–±–æ–∫
- `errback_handler()` –¥–ª—è DNSLookupError, TimeoutError, ConnectionRefusedError, HTTP –æ—à–∏–±–æ–∫
- Try-except –±–ª–æ–∫–∏ –≤ `parse_category()` –∏ `parse_product()`
- Retry –º–µ—Ö–∞–Ω–∏–∑–º (RETRY_TIMES=3, RETRY_HTTP_CODES)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
- **–í—Å–µ 75 spider —Ç–µ—Å—Ç–æ–≤** –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úì

### ‚úÖ –≠—Ç–∞–ø 13: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- **validate_output.py** - —Å–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (250+ —Å—Ç—Ä–æ–∫)
- **test_selectors.py** - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ CSS/XPath —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ (250+ —Å—Ç—Ä–æ–∫)
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README

### ‚úÖ –≠—Ç–∞–ø 14: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **README.md** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (570+ —Å—Ç—Ä–æ–∫)
- **requirements.txt** - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- **.gitignore** - –æ–±–Ω–æ–≤–ª—ë–Ω —Å project-specific –∑–∞–ø–∏—Å—è–º–∏
- **SETTINGS_EXAMPLE.md** - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (250+ —Å—Ç—Ä–æ–∫)
- **proxies_example.txt** - –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–æ–∫—Å–∏
- **.env.example** - –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Docstrings** –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤:
  - AlkotekaSpider (–∫–ª–∞—Å—Å, 4 –≥–ª–∞–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–∞)
  - –í—Å–µ 3 pipeline –∫–ª–∞—Å—Å–∞
  - Key helper –º–µ—Ç–æ–¥—ã (_detect_variants, _load_categories, errback_handler)

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ö–æ–¥
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å |
|-----------|-------|--------|
| Spider (alkoteka_spider.py) | 1024 | ‚úÖ –ü–æ–ª–Ω—ã–π, —Å docstrings |
| Pipelines (pipelines.py) | 312 | ‚úÖ –° docstrings –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ |
| Middleware (middlewares.py) | 400+ | ‚úÖ –†–µ–≥–∏–æ–Ω + Proxy |
| Items (items.py) | 353 | ‚úÖ –ì–æ—Ç–æ–≤—ã–µ Item –∫–ª–∞—Å—Å—ã |
| Item Loaders (item_loaders.py) | 365 | ‚úÖ –° –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏ |
| Utils (utils.py) | 140 | ‚úÖ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| **–ò–¢–û–ì–û –ö–û–î–ê** | **~4000** | **‚úÖ –ì–æ—Ç–æ–≤–æ** |

### –¢–µ—Å—Ç—ã
| –ú–æ–¥—É–ª—å | –¢–µ—Å—Ç—ã | –°—Ç–∞—Ç—É—Å |
|--------|-------|--------|
| test_items.py | 59 | ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã |
| test_middlewares.py | 13 | ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã |
| test_proxy_middleware.py | 11 | ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã |
| test_spider.py | 75 | ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã |
| test_pipelines.py | 29 | ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã |
| **–ò–¢–û–ì–û –¢–ï–°–¢–û–í** | **187** | **‚úÖ 100% pass rate** |

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **Items & Helpers**: ~95% (59 —Ç–µ—Å—Ç–æ–≤)
- **Spider –º–µ—Ç–æ–¥—ã**: ~90% (75 —Ç–µ—Å—Ç–æ–≤)
- **Middleware**: ~95% (24 —Ç–µ—Å—Ç–∞)
- **Pipelines**: ~95% (29 —Ç–µ—Å—Ç–æ–≤)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
| –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-------|-----------|
| README.md | 570+ | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |
| SETTINGS_EXAMPLE.md | 250+ | –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| REGION_MIDDLEWARE.md | ~200 | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RegionMiddleware |
| reconnaissance_report.md | ~300 | –ê–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–≥–æ —Å–∞–π—Ç–∞ |
| **–ò–¢–û–ì–û –î–û–ö–û–í** | **~1300** | **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** |

### –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
| –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-------|-----------|
| validate_output.py | 250+ | –í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| test_selectors.py | 250+ | –û—Ç–ª–∞–¥–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Spider (AlkotekaSpider)
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ 25+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ–≤–∞—Ä–∞
‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–∑ 3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å errback handlers
‚úÖ Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ (categories_parsed, products_found, pages_parsed)

### Pipeline —Å–∏—Å—Ç–µ–º–∞
‚úÖ 3-—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –≤ —Ü–µ–Ω–µ
‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### Middleware
‚úÖ RegionMiddleware - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–º —á–µ—Ä–µ–∑ cookies/headers
‚úÖ ProxyMiddleware - —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ —Å blacklist –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
‚úÖ Random User-Agent –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
‚úÖ AutoThrottle –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å—é

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ 187 unit —Ç–µ—Å—Ç–æ–≤ (100% pass rate)
‚úÖ Mock-based —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ Coverage ~95% –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ edge cases –∏ –æ—à–∏–±–æ–∫

### –í–∞–ª–∏–¥–∞—Ü–∏—è
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ URL —Ñ–æ—Ä–º–∞—Ç–∞
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### –û—Ç–ª–∞–¥–∫–∞
‚úÖ –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ JSON
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (DEBUG —Ä–µ–∂–∏–º –¥–æ—Å—Ç—É–ø–µ–Ω)
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Ç–æ–≤–∞—Ä–∞–º

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Poduct-parser/
‚îú‚îÄ‚îÄ venv/                                  # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ requirements.txt                       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pinned –≤–µ—Ä—Å–∏–∏)
‚îú‚îÄ‚îÄ .gitignore                            # Git ignore —Å project-specific
‚îú‚îÄ‚îÄ .env.example                          # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ README.md                             # –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø ‚úÖ
‚îú‚îÄ‚îÄ SETTINGS_EXAMPLE.md                   # –ü–†–ò–ú–ï–†–´ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò ‚úÖ
‚îú‚îÄ‚îÄ REGION_MIDDLEWARE.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è middleware
‚îú‚îÄ‚îÄ reconnaissance_report.md               # –ê–Ω–∞–ª–∏–∑ —Å–∞–π—Ç–∞
‚îú‚îÄ‚îÄ PROJECT_SUMMARY.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ validate_output.py                    # ‚úÖ –°–ö–†–ò–ü–¢ –í–ê–õ–ò–î–ê–¶–ò–ò
‚îú‚îÄ‚îÄ test_selectors.py                     # ‚úÖ –°–ö–†–ò–ü–¢ –û–¢–õ–ê–î–ö–ò –°–ï–õ–ï–ö–¢–û–†–û–í
‚îú‚îÄ‚îÄ proxies_example.txt                   # –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–∫—Å–∏
‚îÇ
‚îî‚îÄ‚îÄ alkoteka_parser/                      # –û—Å–Ω–æ–≤–Ω–æ–π Scrapy –ø—Ä–æ–µ–∫—Ç
    ‚îú‚îÄ‚îÄ scrapy.cfg                        # –ö–æ–Ω—Ñ–∏–≥ Scrapy
    ‚îú‚îÄ‚îÄ categories.json                   # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
    ‚îÇ
    ‚îú‚îÄ‚îÄ alkoteka_parser/                  # –ü–∞–∫–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
    ‚îÇ   ‚îú‚îÄ‚îÄ settings.py                   # ‚úÖ –° docstrings
    ‚îÇ   ‚îú‚îÄ‚îÄ items.py                      # ‚úÖ Item –∫–ª–∞—Å—Å—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ item_loaders.py              # ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ middlewares.py                # ‚úÖ Region + Proxy middleware
    ‚îÇ   ‚îú‚îÄ‚îÄ pipelines.py                  # ‚úÖ –° docstrings –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ utils.py                      # ‚úÖ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îî‚îÄ‚îÄ spiders/
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
    ‚îÇ       ‚îî‚îÄ‚îÄ alkoteka_spider.py        # ‚úÖ 1024 —Å—Ç—Ä–æ–∫, —Å docstrings
    ‚îÇ
    ‚îî‚îÄ‚îÄ tests/                            # ‚úÖ 187 –¢–ï–°–¢–û–í
        ‚îú‚îÄ‚îÄ __init__.py
        ‚îú‚îÄ‚îÄ test_items.py                 # 59 —Ç–µ—Å—Ç–æ–≤
        ‚îú‚îÄ‚îÄ test_middlewares.py           # 13 —Ç–µ—Å—Ç–æ–≤
        ‚îú‚îÄ‚îÄ test_proxy_middleware.py      # 11 —Ç–µ—Å—Ç–æ–≤
        ‚îú‚îÄ‚îÄ test_spider.py                # 75 —Ç–µ—Å—Ç–æ–≤
        ‚îî‚îÄ‚îÄ test_pipelines.py             # 29 —Ç–µ—Å—Ç–æ–≤
```

---

## üöÄ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—É—Å–∫ spider
```bash
cd alkoteka_parser
scrapy crawl alkoteka -O result.json
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
python validate_output.py result.json --verbose
```

### –û—Ç–ª–∞–¥–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
```bash
python test_selectors.py https://url-to-test.com --product --export results.json
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç pytest)
```bash
pip install pytest pytest-cov
cd alkoteka_parser
pytest tests/ -v
```

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–≠—Ç–∞–ø 10-14)

1. **–í–∞—Ä–∏–∞–Ω—Ç-–¥–µ—Ç–µ–∫—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞
2. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - errback handlers –∏ retry –º–µ—Ö–∞–Ω–∏–∑–º
3. **–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö** - 3-—ç—Ç–∞–ø–Ω–∞—è pipeline –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - 187 unit —Ç–µ—Å—Ç–æ–≤ —Å 95%+ –ø–æ–∫—Ä—ã—Ç–∏–µ–º
5. **–û—Ç–ª–∞–¥–∫–∞** - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
8. **Docstrings** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞

---

## üìä –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Total Lines of Code | 4000+ |
| Unit Tests | 187 |
| Test Pass Rate | 100% |
| Code Coverage | ~95% |
| Docstring Coverage | ~90% (–∫–ª–∞—Å—Å—ã –∏ –≥–ª–∞–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã) |
| Code Duplication | –ù–∏–∑–∫–∞—è (DRY –ø—Ä–∏–Ω—Ü–∏–ø) |
| Type Hints | –ü–æ–ª–Ω—ã–µ (Python 3.10+) |

---

## üéì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Scrapy 2.13.4** - –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Python 3.10+** - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Twisted** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Parsel/Scrapy Selector** - –ø–∞—Ä—Å–∏–Ω–≥ HTML/XML
- **Pytest** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Mock** - mocking –¥–ª—è —Ç–µ—Å—Ç–æ–≤

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (DNS, timeout, connection, HTTP)
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤ (AutoThrottle)
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–º —á–µ—Ä–µ–∑ middleware
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
‚úÖ Type hints –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥—É –∏ –∞–Ω–∞–ª–∏–∑—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **Database –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ PostgreSQL/MongoDB
2. **API endpoint** - RESTful API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
3. **Scheduling** - APScheduler –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
4. **Dashboard** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (Dashboard/Grafana)
5. **CI/CD** - GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

**–í–µ—Ä—Å–∏—è**: 0.1.0
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2024-12-03
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
